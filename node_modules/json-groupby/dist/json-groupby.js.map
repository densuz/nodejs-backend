{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "json-groupby.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "'use strict';\n\nfunction groupBy(items, properties, collect) {\n  if (arguments.length < 2) return arr;\n  var groups = _groupBy(items, properties);\n  // collect other properties values in array\n  if (collect && collect.length > 0)\n    groups = collectProperties(groups, collect);\n\n  return groups;\n}\n\nfunction _groupBy(items, properties) {\n  var group = {};\n \t    if (typeof properties[0] === 'string') {\n \t      group = groupByCategory(items, properties[0]);\n \t    } else {\n \t      group = groupByRange(items, properties[0]);\n \t    }\n      properties = properties.slice(1);\n    if (properties.length > 0) {\n      for (var key in group) {\n        group[key] = _groupBy(group[key], properties);\n      }\n    }\n    return group;\n}\n\nfunction groupByCategory(arr, prop) {\n  var isPropertyArray = Array.isArray(valueAt(arr[0], prop));\n  if (isPropertyArray) {\n    return arr.reduce(function(group, f) {\n      var tags = valueAt(f, prop);\n      tags.forEach(function(tag) { \n        group[tag] = group[tag] || [];\n        group[tag].push(f);\n      });\n      return group;\n    },{});\n  } else {\n    return arr.reduce(function(group, f) {\n      var tag = valueAt(f, prop);\n      group[tag] = group[tag] || [];\n      group[tag].push(f);\n      return group;\n    },{});\n  }\n}\n\nfunction groupByRange(arr, lookup) {\n  return arr.reduce(function(group, f) {\n    var val, ind, tag;\n    val = valueAt(f, lookup.property);\n    ind = locationOf(val, lookup.intervals);\n    if (ind === lookup.intervals.length -1) ind--;\n    tag = lookup.labels ? lookup.labels[ind] : ind;\n    group[tag] = group[tag] || [];\n    group[tag].push(f);\n    return group;\n  },{});\n}\n\n// collect the properties in an array \nfunction collectProperties(groups, properties) { \n  var collection = {};\n  for (var key in groups) {\n    if (Array.isArray(groups[key])) {\n      collection[key] = groups[key].reduce(function(coll, item) {\n        properties.forEach(function(prop) { \n          if (!coll[prop]) coll[prop] = [];\n          coll[prop].push(valueAt(item,prop));\n        })\n        return coll;\n      }, {})\n    } else {\n      collection[key] = collectProperties(groups[key], properties);\n    }\n  }\n  return collection;\n}\n\nfunction valueAt(obj,path) {\n  //taken from http://stackoverflow.com/a/6394168/713573\n  function index(prev,cur, i, arr) { \n    if (prev.hasOwnProperty(cur)) {\n      return prev[cur]; \n    } else {\n      throw new Error(arr.slice(0,i+1).join('.') + ' is not a valid property path'); \n    }\n  }\n  return path.split('.').reduce(index, obj);\n}\n\n// similar to Array.findIndex but more efficient\n// http://stackoverflow.com/q/1344500/713573\nfunction locationOf(element, array, start, end) {\n  start = start || 0;\n  end = end || array.length;\n  var pivot = parseInt(start + (end - start) / 2, 10);\n  if (end-start <= 1 || array[pivot] === element) return pivot;\n  if (array[pivot] < element) {\n    return locationOf(element, array, pivot, end);\n  } else {\n    return locationOf(element, array, start, pivot);\n  }\n}\nmodule.exports = groupBy;\n"
  ]
}